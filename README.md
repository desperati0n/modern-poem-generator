# 现代诗生成器 (Modern Poem Generator)

基于马尔可夫链的中文现代诗生成器，目前支持海子风格。

## 特性

- 🎨 **马尔可夫链生成**：使用 n-gram 模型学习诗歌的词语转移概率
- ✂️ **中文分词**：集成 jieba 进行中文分词
- 🎚️ **可调阶数**：支持 1-3 阶马尔可夫链，控制随机性与连贯性
- 📝 **交互式菜单**：简洁的 CLI 界面
- 💾 **诗歌保存**：自动保存到 `output/` 目录

## 安装

```bash
pip install -r requirements.txt
```

## 使用

```bash
python main.py
```

## 菜单选项

1. **切换风格** - 选择不同的语料库（诗人风格）
2. **设定长度** - 设置生成的诗歌行数（1-20）
3. **调整阶数** - 设置马尔可夫阶数（1=最随机，3=最连贯）
4. **生成诗歌** - 生成一首新诗
5. **保存上一首** - 保存到 `output/` 目录
6. **退出**

## 项目结构

```
modern_poem_generator/
├── corpus/           # 语料库目录
│   └── haizi.txt     # 海子诗歌
├── output/           # 生成的诗歌保存位置
├── src/
│   ├── model.py      # 马尔可夫链模型
│   └── utils.py      # 工具函数
├── main.py           # 主程序入口
├── run_tests.py      # 单元测试
└── requirements.txt  # 依赖
```

## 技术细节

- **分词处理**：将 `\n` 作为独立 token，让模型学习何时换行
- **阶数说明**：
  - 1阶：仅看前一个词，最随机
  - 2阶：看前两个词，平衡（推荐）
  - 3阶：看前三个词，最连贯但更接近原文
